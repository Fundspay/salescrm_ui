<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword" content="">
    <meta name="author" content="Fundsroom">
    <!--! The above 6 meta tags *must* come first in the head; any other head content must come *after* these tags !-->
    <!--! BEGIN: Apps Title-->
    <title>Fundsroom HR || Registration Page</title>
    <!--! END:  Apps Title-->
    <!--! BEGIN: Favicon-->
    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/FundsAuditLogo.png">
    <!--! END: Favicon-->
    <!--! BEGIN: Bootstrap CSS-->
    <link rel="stylesheet" type="text/css" href="./../assets/css/bootstrap.min.css">
    <!--! END: Bootstrap CSS-->
    <!--! BEGIN: Vendors CSS-->
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/vendors.min.css">
    <!--! END: Vendors CSS-->
    <!--! BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="./../assets/css/theme.min.css">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/tagify.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/tagify-data.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/quill.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/select2.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/select2-theme.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/daterangepicker.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/css/theme.min.css" />
    <!--! END: Custom CSS-->
    <!--! HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries !-->
    <!--! WARNING: Respond.js doesn"t work if you view the page via file: !-->
    <!--[if lt IE 9]>
			<script src="https:oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https:oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
</head>

<body>
    <!--! ================================================================ !-->
    <!--! [Start] Main Content !-->
    <!--! ================================================================ !-->
    <main class="auth-minimal-wrapper">
        <div class="auth-minimal-inner">
            <div class="minimal-card-wrapper">
                <div class="card mb-4 mt-5 mx-4 mx-sm-0 position-relative">
                    <!-- <div class="wd-50 bg-white p-2 rounded-circle shadow-lg position-absolute translate-middle top-0 start-50">
                        <img src="./../assets/images/logo-abbr.png" alt="" class="img-fluid">
                    </div> -->
                    <div class="card-body p-sm-5">
                        <h2 class="fs-20 fw-bolder mb-4 position-relative">
                            <img src="/assets/images/FundsAuditLogo.png" alt="Logo"
                                class="position-absolute top-50 start-50 translate-middle opacity-25"
                                style="width: 80px; z-index: 0;">
                            Registration
                        </h2>
                        <!-- <h4 class="fs-13 fw-bold mb-2">Manage all your Duralux crm</h4> -->
                        <p class="fs-12 fw-medium text-muted">Let's get you all setup, so you can verify your personal
                            account.</p>
                        <form action="index.html" class="w-100 mt-2 pt-2">
                            <div class="mb-3">
                                <input type="text" class="form-control" placeholder="First Name" id="firstName"
                                    required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" placeholder="Last Name" id="lastName" required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" placeholder="Phone Number" id="phoneNumber"
                                    required>
                            </div>
                            <div class="mb-3">
                                <input type="email" class="form-control" placeholder="Email" id="email" required>
                            </div>
                            <div class="mt-3">
                                <div class="col-lg-12 mb-4">
                                    <label class="form-label">Gender<span class="text-danger">*</span></label>
                                    <select class="form-control" id="gender" data-select2-selector="icon">
                                        <!-- <option value="static">Intern</option> -->
                                        <option value="" selected></option>
                                        <option value="1">Male</option>
                                        <option value="2">Female</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-3">
                                <div class="col-lg-12 mb-4">
                                    <label class="form-label">User Type<span class="text-danger">*</span></label>
                                    <select class="form-control" id="userType" data-select2-selector="icon">
                                        <!-- <option value="static">Intern</option> -->
                                        <option value="1" selected>Employee</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-3">
                                <div class="col-lg-12 mb-4">
                                    <label class="form-label">Position<span class="text-danger">*</span></label>
                                    <select class="form-control" id="position" data-select2-selector="icon">
                                        <!-- <option value="static">Intern</option> -->
                                        <option value="2">BranchManager</option>
                                        <option value="3">Admin and Finanace Excecutive</option>
                                        <option value="4">Business Excecutive</option>
                                        <option value="5">Business Management Trainee</option>
                                        <option value="6" selected>HR management Trainee</option>
                                        <option value="7">Junior Software Developer</option>
                                    </select>
                                </div>
                            </div>
                            <!-- <div class="mb-3">
                                <input type="tel" class="form-control" placeholder="Username" required>
                            </div> -->
                            <div class="mb-3 generate-pass">
                                <div class="input-group field">
                                    <input type="password" class="form-control password" id="password"
                                        placeholder="Password">
                                    <div class="input-group-text c-pointer gen-pass" data-bs-toggle="tooltip"
                                        title="Generate Password"><i class="feather-hash"></i></div>
                                    <div class="input-group-text border-start bg-gray-2 c-pointer show-pass"
                                        data-bs-toggle="tooltip" title="Show/Hide Password"><i></i></div>
                                </div>
                                <div class="progress-bar mt-2">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <input type="password" class="form-control" placeholder="Confirm Password"
                                    id="confirmPassword" required>
                            </div>

                            <div class="mt-3">
                                <button type="submit" class="btn btn-lg btn-primary w-100">Create Account</button>
                            </div>
                        </form>
                        <div class="mt-3 text-muted">
                            <span>Already have an account?</span>
                            <a href="index.html" class="fw-bold">Login Here</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!--! ================================================================ !-->
    <!--! [End] Main Content !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->

    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! Footer Script !-->
    <!--! ================================================================ !-->
    <!--! BEGIN: Vendors JS !-->
    <script src="./../assets/vendors/js/vendors.min.js"></script>
    <script src="./../assets/js/common-init.min.js"></script>
    <!-- vendors.min.js {always must need to be top} -->
    <script src="./../assets/vendors/js/lslstrength.min.js"></script>
    <script src="./../assets/vendors/js/select2.min.js"></script>
    <script src="./../assets/vendors/js/select2-active.min.js"></script>
    <!--! END: Vendors JS !-->
    <!--! BEGIN: Apps Init  !-->
    <script src="./../assets/js/common-init.min.js"></script>
    <!--! END: Apps Init !-->
    <!--! BEGIN: Theme Customizer  !-->
    <script src="./../assets/js/theme-customizer-init.min.js"></script>
    <!--! END: Theme Customizer !-->

    <!-- Add SweetAlert2 (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function () {
            $("form").on("submit", function (e) {
                e.preventDefault();

                const firstName = $("#firstName").val().trim();
                const lastName = $("#lastName").val().trim();
                const email = $("#email").val().trim();
                const userType = $("#userType").val();
                const position = $("#position").val();
                const password = $("#password").val();
                const confirmPassword = $("#confirmPassword").val();
                const gender = $("#gender").val();
                const phoneNumber = $("#phoneNumber").val().trim();

                if (!firstName || !lastName || !email || !userType || !position || !password || !confirmPassword || !gender || !phoneNumber) {
                    Swal.fire({
                        icon: "warning",
                        title: "All fields are required!",
                        confirmButtonColor: "#3085d6"
                    });
                    return;
                }

                if (password !== confirmPassword) {
                    Swal.fire({
                        icon: "error",
                        title: "Passwords do not match!",
                        confirmButtonColor: "#d33"
                    });
                    return;
                }

                $.ajax({
                    url: "http://localhost:3000/api/v1/user/register",
                    type: "POST",
                    contentType: "application/json",
                    data: JSON.stringify({
                        firstName: firstName,
                        lastName: lastName,
                        email: email,
                        type: userType,
                        password: password,
                        phoneNumber: phoneNumber,
                        position: position,
                        gender: gender
                    }),
                    success: function (response) {
                        console.log("Success:", response);
                        Swal.fire({
                            icon: "success",
                            title: "Registration successful!",
                            confirmButtonColor: "#3085d6"
                        }).then(() => {
                            window.location.href = "/templates/index.html";
                        });
                    },
                    error: function (xhr, status, error) {
                        console.error("Error:", status, error);
                        Swal.fire({
                            icon: "error",
                            title: "Registration failed!",
                            text: xhr.responseJSON?.message || "Please try again.",
                            confirmButtonColor: "#d33"
                        });
                    }
                });
            });
        });
    </script>

</body>

</html>